// Mining sessions
model MiningSession {
    id        String   @id @default(cuid())
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    // Session Data
    userId    String
    nodeId    String
    startTime DateTime  @default(now())
    endTime   DateTime?
    duration  Int? // in minutes

    // Rewards
    minerSharesEarned Float @default(0)

    // Session Status
    status SessionStatus @default(ACTIVE)

    // GPS and Lock-in
    gpsVerified       Boolean   @default(false)
    lockInCompleted   Boolean   @default(false)
    lockInCompletedAt DateTime?

    // Relations
    user User @relation(fields: [userId], references: [id], onDelete: Cascade)
    node Node @relation(fields: [nodeId], references: [id])

    @@map("mining_sessions")
}

// Enums
enum SessionStatus {
    ACTIVE
    COMPLETED
    ABANDONED
    EXPIRED
    GPS_PENDING
    LOCKED_IN
}
